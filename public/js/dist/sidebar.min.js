"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var DynamicSidebar=function(){function i(t,e,n,s){_classCallCheck(this,i),this.sidebar=document.querySelector(t),this.mainContent=document.querySelector(e),this.toggleButton=null,this.storageKey=s,this.isCollapsed=this.loadState(),this.init(n)}return _createClass(i,[{key:"init",value:function(t){var e=this;this.createToggleButton(t),this.sidebar.classList.add("sidebar-dynamic"),this.mainContent.classList.add("main-content-dynamic"),this.isCollapsed&&this.collapse(!1),this.toggleButton.addEventListener("click",function(){return e.toggle()})}},{key:"createToggleButton",value:function(t){this.toggleButton=document.createElement("button"),this.toggleButton.id=t,this.toggleButton.className="sidebar-toggle-btn",this.toggleButton.setAttribute("aria-label","Basculer la sidebar"),this.updateIcon(),this.mainContent.insertBefore(this.toggleButton,this.mainContent.firstChild)}},{key:"toggle",value:function(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.collapse(!0):this.expand(!0),this.saveState(),this.updateIcon()}},{key:"setTransitions",value:function(t){var e=t?"":"none";this.sidebar.style.transition=e,this.mainContent.style.transition=e,t||this.sidebar.offsetHeight}},{key:"collapse",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;e||this.setTransitions(!1),this.sidebar.classList.add("collapsed"),this.mainContent.classList.add("expanded"),this.toggleButton.classList.add("sidebar-collapsed"),e||this.setTransitions(!0)}},{key:"expand",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;e||this.setTransitions(!1),this.sidebar.classList.remove("collapsed"),this.mainContent.classList.remove("expanded"),this.toggleButton.classList.remove("sidebar-collapsed"),e||this.setTransitions(!0)}},{key:"updateIcon",value:function(){this.isCollapsed?this.toggleButton.innerHTML='\n                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <polyline points="9 18 15 12 9 6"></polyline>\n                </svg>\n            ':this.toggleButton.innerHTML='\n                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <line x1="3" y1="6" x2="21" y2="6"></line>\n                    <line x1="3" y1="12" x2="21" y2="12"></line>\n                    <line x1="3" y1="18" x2="21" y2="18"></line>\n                </svg>\n            '}},{key:"saveState",value:function(){try{localStorage.setItem(this.storageKey,this.isCollapsed?"true":"false")}catch(t){console.warn("Cannot save sidebar state to localStorage",t)}}},{key:"loadState",value:function(){try{return"true"===localStorage.getItem(this.storageKey)}catch(t){return console.warn("Cannot load sidebar state from localStorage",t),!1}}}]),i}();document.addEventListener("DOMContentLoaded",function(){document.querySelector(".sidebar")&&new DynamicSidebar(".sidebar",".main-content","sidebar-toggle-eleve","sidebar-state-eleve"),document.querySelector(".prof-sidebar")&&new DynamicSidebar(".prof-sidebar",".prof-main-content","sidebar-toggle-prof","sidebar-state-prof")});
//# sourceMappingURL=sidebar.min.js.map
